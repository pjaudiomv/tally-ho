<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Map Link</title>
    <style>
        .maps-link {
            margin: 0 auto;
            width: 150px;
            padding: 20px 0;

            img { width: 150px; }
        }

        .details {
            width: 600px;
            margin: 0 auto;
            font-family: "Open Sans";
        }
    </style>
</head>
<body>
<div class="maps-link">
    <img style="cursor: pointer;" onclick="mapsSelector()" src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/747/maps-icon.png" />
</div>

<div class="details">
    <p>The above icon is liked to Google Maps. It uses a small library to detect whether or not the user is on iOS.</p>

    <p>By doing this, we can ensure that all users on iOS and Android will have this link open in their native maps app. If the user is on desktop, they will get Google Maps on desktop.</p>

    <p>Before implimenting this code, you would want to update the lat and long to the variables used in your application.</p>
</div>
<script>
    function isIOSDevice() {
        if (navigator.userAgentData && navigator.userAgentData.platform) {
            if (navigator.userAgentData.platform === 'iOS') {
                return true;
            }
        }
        const userAgent = navigator.userAgent || navigator.vendor || window.opera;
        const isIOS = /iPad|iPhone|iPod/.test(userAgent) && !window.MSStream;
        const isIPadOS = navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1 && !window.MSStream;
        return isIOS || isIPadOS;
    }

    function mapsSelector() {
        if (isIOSDevice())
            window.open("maps://maps.google.com/maps?daddr=33.06661863762794,-80.10240586&amp;ll=");

        else
            window.open("https://maps.google.com/maps?daddr=33.06661863762794,-80.10240586&amp;ll=");
    }
</script>
</body>
</html>
